---
title: åˆ›å»º ASR æ‰©å±•
---

åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€æ­¥æ­¥åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ ASRï¼ˆè‡ªåŠ¨è¯­éŸ³è¯†åˆ«ï¼‰æ‰©å±•ï¼Œæ¼”ç¤ºä»é¡¹ç›®åˆ›å»ºã€å¼€å‘å®ç°ã€å•å…ƒæµ‹è¯•åˆ°ç”Ÿäº§éªŒè¯çš„å…¨æµç¨‹ã€‚é€šè¿‡è¿™ä¸ªæ•™ç¨‹ï¼Œä½ å°†æŒæ¡å¦‚ä½•ä¸º TEN Agent è´¡çŒ®é«˜è´¨é‡çš„ ASR æ‰©å±•ã€‚

## å‰ç½®æ¡ä»¶

åœ¨å¼€å§‹ä¹‹å‰ï¼Œä½ éœ€è¦ï¼š

1. ç†Ÿæ‚‰ [TEN Agent åŸºç¡€çŸ¥è¯†](/docs/ten_agent/getting_started)
2. äº†è§£ ASR æœåŠ¡çš„åŸºæœ¬æ¦‚å¿µï¼ˆå¦‚ Deepgramã€Azure Speech ç­‰ï¼‰
3. å…·å¤‡ Python å¼‚æ­¥ç¼–ç¨‹ç»éªŒ
4. å‡†å¤‡å¥½ ASR æœåŠ¡å•†çš„ API å¯†é’¥ï¼ˆç”¨äºæœ€ç»ˆæµ‹è¯•ï¼‰

<Callout>
  æœ¬æ•™ç¨‹ä»¥ Deepgram ASR ä¸ºä¾‹ï¼Œä½†åŒæ ·çš„æ–¹æ³•é€‚ç”¨äºå…¶ä»– ASR æœåŠ¡å•†
</Callout>

## 1. åˆ›å»º ASR æ‰©å±•é¡¹ç›®

### ä½¿ç”¨ ASR æ¨¡æ¿åˆ›å»ºé¡¹ç›®

åœ¨ `ten_packages/extension` ç›®å½•ä¸‹ï¼Œä½¿ç”¨ ASR ä¸“ç”¨æ¨¡æ¿åˆ›å»ºæ‰©å±•ï¼š

```bash title="Terminal"
cd ten-framework/ai_agents/agents/ten_packages/extension
tman create extension my_asr_extension --template default_asr_python --template-data class_name_prefix=MyAsr
```

æ‰§è¡ŒæˆåŠŸåï¼Œä½ å°†çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š

```bash title="Terminal"
Package 'extension:my_asr_extension' created successfully in 'my_asr_extension' in 2 seconds.
```

### å®‰è£…é¡¹ç›®ä¾èµ–

è¿›å…¥åˆ›å»ºçš„æ‰©å±•ç›®å½•å¹¶å®‰è£…ä¾èµ–ï¼š

```bash title="Terminal"
cd my_asr_extension
tman install --standalone
```

è¿™ä¼šæ ¹æ® `manifest.json` ä¸­å£°æ˜çš„ä¾èµ–æ„å»ºä¾èµ–æ ‘ï¼Œå¹¶å®‰è£…åˆ° `.ten` ç›®å½•ä¸‹ã€‚

## 2. äº†è§£ ASR æ‰©å±•æ¶æ„

### é¡¹ç›®ç»“æ„

```
my_asr_extension/
â”œâ”€â”€ .vscode/               # VS Code è°ƒè¯•é…ç½®
â”‚   â””â”€â”€ launch.json       # è°ƒè¯•å¯åŠ¨é…ç½®
â”œâ”€â”€ manifest.json          # æ‰©å±•å…ƒæ•°æ®å’Œä¾èµ–å£°æ˜
â”œâ”€â”€ property.json          # é»˜è®¤é…ç½®å‚æ•°  
â”œâ”€â”€ requirements.txt       # Python ä¾èµ–
â”œâ”€â”€ extension.py           # ä¸»è¦å®ç°æ–‡ä»¶
â””â”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
    â”œâ”€â”€ bin/start         # æµ‹è¯•å¯åŠ¨è„šæœ¬
    â”œâ”€â”€ test_basic.py     # å•å…ƒæµ‹è¯•
    â””â”€â”€ configs/          # æµ‹è¯•é…ç½®
```

### æ ¸å¿ƒç»§æ‰¿å…³ç³»

```python
AsyncASRBaseExtension  # TEN AI Base æä¾›çš„æŠ½è±¡åŸºç±»
    â†“
MyAsrExtension         # ä½ çš„å…·ä½“å®ç°
```

`AsyncASRBaseExtension` æä¾›äº† ASR æ‰©å±•çš„é€šç”¨æ¡†æ¶ï¼Œä½ éœ€è¦å®ç°ä»¥ä¸‹å…³é”®æ–¹æ³•ï¼š

- `vendor()`: è¿”å› ASR æœåŠ¡å•†åç§°
- `start_connection()`: å»ºç«‹ä¸ ASR æœåŠ¡çš„è¿æ¥
- `stop_connection()`: åœæ­¢è¿æ¥
- `send_audio()`: å‘é€éŸ³é¢‘æ•°æ®
- `finalize()`: å¿«é€Ÿè§¦å‘æœ€ç»ˆç»“æœï¼ˆæ”¶åˆ°ä¸Šæ¸¸EOSä¿¡å·åï¼Œé€šè¿‡æ–­è¿ã€å‘é€é™éŸ³åŒ…æˆ–ä¾›åº”å•†ä¸“ç”¨APIå¿«é€Ÿè·å¾—finalç»“æœï¼Œé™ä½å¯¹è¯å»¶è¿Ÿï¼‰
- `is_connected()`: æ£€æŸ¥è¿æ¥çŠ¶æ€
- `input_audio_sample_rate()`: è¿”å›éŸ³é¢‘é‡‡æ ·ç‡

## 3. é…ç½®ç®¡ç†è®¾è®¡

### æ·»åŠ  ASR æœåŠ¡ä¾èµ–

é¦–å…ˆåœ¨ `requirements.txt` ä¸­æ·»åŠ  Deepgram SDKï¼š

```text title="requirements.txt"
websockets~=14.0
pydantic
requests
deepgram-sdk
aiofiles
```

### è®¾è®¡é…ç½®ç±»

åˆ›å»ºçµæ´»çš„é…ç½®ç±»ï¼Œæ”¯æŒå¿…å¡«å‚æ•°å’Œå¯é€‰é€ä¼ å‚æ•°ï¼š

```python title="extension.py"
from pydantic import BaseModel
from typing import Dict, Optional

class MyAsrConfig(BaseModel):
    # æ‰€æœ‰ASRå‚æ•°éƒ½åœ¨paramsä¸­ï¼ŒåŒ…æ‹¬å¿…å¡«å’Œå¯é€‰å‚æ•°
    params: Dict[str, Optional[str]] = {}
    
    # éŸ³é¢‘dumpç›¸å…³é…ç½® - æ‰€æœ‰ASRæ‰©å±•çš„æ ‡å‡†å®ç°
    dump: bool = False
    dump_path: Optional[str] = None
    
    @property
    def url(self) -> str:
        """è·å–Deepgram APIç«¯ç‚¹URL"""
        return self.params.get("url", "") or ""
    
    @property  
    def api_key(self) -> str:
        """è·å–Deepgram APIå¯†é’¥"""
        return self.params.get("api_key", "") or ""
    
    @property
    def language(self) -> str:
        """è·å–è¯­è¨€ä»£ç """
        return self.params.get("language", "en") or ""
    
    @property
    def model(self) -> str:
        """è·å–ASRæ¨¡å‹"""
        return self.params.get("model", "nova-2") or ""
    
    @property
    def sample_rate(self) -> int:
        """è·å–éŸ³é¢‘é‡‡æ ·ç‡"""
        return int(self.params.get("sample_rate", "16000") or "16000")
```

### é…ç½®é»˜è®¤å‚æ•°

åœ¨ `property.json` ä¸­æä¾›é»˜è®¤é…ç½®ï¼š

```json title="property.json"
{
  "params": {
    "url": "wss://api.deepgram.com/v1/listen",
    "api_key": "your_deepgram_api_key_here",
    "language": "en",
    "model": "nova-2", 
    "sample_rate": "16000",
    "punctuate": "true",
    "smart_format": "true",
    "interim_results": "true"
  },
  "dump": false,
  "dump_path": "/tmp/asr_audio_dump"
}
```

## 4. æ ¸å¿ƒåŠŸèƒ½å®ç°

### å®ç°åŸºç¡€æ–¹æ³•

```python title="extension.py"
import asyncio
from deepgram import (
    DeepgramClient,
    DeepgramClientOptions, 
    LiveTranscriptionEvents,
    LiveOptions
)
from ten_ai_base.asr import ASRResult

class MyAsrExtension(AsyncASRBaseExtension):
    def __init__(self, name: str):
        super().__init__(name)
        self.config: MyAsrConfig = MyAsrConfig()
        self.deepgram_client: Optional[AsyncListenWebSocketClient] = None
        self.is_connected_flag: bool = False
        self.last_finalize_timestamp: float = 0.0  # ç”¨äºå»¶è¿Ÿè®¡ç®—
        
    @override
    def vendor(self) -> str:
        """è¿”å›ASRæœåŠ¡å•†åç§°"""
        return "deepgram"
    
    @override
    def input_audio_sample_rate(self) -> int:
        """è¿”å›éŸ³é¢‘é‡‡æ ·ç‡"""
        return self.config.sample_rate
    
    @override
    def is_connected(self) -> bool:
        """æ£€æŸ¥è¿æ¥çŠ¶æ€"""
        return self.is_connected_flag
```

### å®ç°è¿æ¥ç®¡ç†

```python title="extension.py"
@override
async def start_connection(self) -> None:
    """å»ºç«‹ä¸Deepgramçš„WebSocketè¿æ¥"""
    try:
        # ç¡®ä¿æ¸…ç†ä¹‹å‰çš„è¿æ¥
        await self.stop_connection()
        
        # åˆ›å»ºDeepgramå®¢æˆ·ç«¯é…ç½®
        config = DeepgramClientOptions(
            api_key=self.config.api_key
        )
        
        # åˆå§‹åŒ–WebSocketå®¢æˆ·ç«¯
        deepgram = DeepgramClient(config=config)
        self.deepgram_client = deepgram.listen.live.v("1")
        
        # æ³¨å†Œäº‹ä»¶å¤„ç†å™¨
        await self._register_deepgram_events()
        
        # åˆ›å»ºè¿æ¥é€‰é¡¹
        options = LiveOptions(
            model=self.config.model,
            language=self.config.language,
            sample_rate=self.config.sample_rate,
        )
        
        # åŠ¨æ€æ·»åŠ å…¶ä»–å‚æ•°
        for key, value in self.config.params.items():
            if key not in ["url", "api_key", "language", "model", "sample_rate"] and value:
                setattr(options, key, value == "true" if value in ["true", "false"] else value)
        
        # å¯åŠ¨è¿æ¥
        await self.deepgram_client.start(options)
        
    except Exception as e:
        self.get_logger().error(f"failed to connect to deepgram: {e}")
        raise

@override
async def stop_connection(self) -> None:
    """åœæ­¢Deepgramè¿æ¥"""
    if self.deepgram_client:
        await self.deepgram_client.finish()
        self.deepgram_client = None
        self.is_connected_flag = False
```

### å®ç°éŸ³é¢‘å¤„ç†

```python title="extension.py"
@override
async def send_audio(self, audio_frame: AudioFrame) -> bool:
    """å‘é€éŸ³é¢‘æ•°æ®åˆ°ASRæœåŠ¡"""
    if not self.is_connected() or not self.deepgram_client:
        return False
        
    try:
        # è·å–éŸ³é¢‘æ•°æ®
        audio_buf = audio_frame.get_buf()
        if not audio_buf:
            return False
            
        # å‘é€åˆ°Deepgram
        await self.deepgram_client.send(bytes(audio_buf))
        return True
        
    except Exception as e:
        self.get_logger().error(f"Failed to send audio: {e}")
        return False

@override  
async def finalize(self) -> None:
    """å¿«é€Ÿè§¦å‘æœ€ç»ˆç»“æœ
    
    æ”¶åˆ°ä¸Šæ¸¸EOS(End of Speech)ä¿¡å·åï¼Œç«‹å³è§¦å‘ASRæœåŠ¡è¿”å›finalç»“æœã€‚
    è¿™å¯¹äºå¯¹è¯åœºæ™¯éå¸¸é‡è¦ï¼Œå¯ä»¥æ˜¾è‘—é™ä½ç”¨æˆ·æ„ŸçŸ¥çš„å»¶è¿Ÿã€‚
    
    å®ç°æ–¹å¼ï¼š
    - Deepgram: è°ƒç”¨finalize() APIå¿«é€Ÿç»“æŸè½¬å½•
    - å…¶ä»–æœåŠ¡å•†: å¯é€šè¿‡æ–­è¿ã€å‘é€é™éŸ³åŒ…ç­‰æ–¹å¼å®ç°
    """
    if self.deepgram_client:
        # è®°å½•finalizeæ—¶é—´æˆ³ï¼Œç”¨äºå»¶è¿Ÿè®¡ç®—
        self.last_finalize_timestamp = asyncio.get_event_loop().time() * 1000
        await self.deepgram_client.finalize()
```

### å®ç°äº‹ä»¶å¤„ç†

```python title="extension.py"
async def _register_deepgram_events(self) -> None:
    """æ³¨å†ŒDeepgram WebSocketäº‹ä»¶å¤„ç†å™¨"""
    if not self.deepgram_client:
        return
        
    self.deepgram_client.on(LiveTranscriptionEvents.Open, self._on_open)
    self.deepgram_client.on(LiveTranscriptionEvents.Close, self._on_close)
    self.deepgram_client.on(LiveTranscriptionEvents.Transcript, self._on_transcript)
    self.deepgram_client.on(LiveTranscriptionEvents.Error, self._on_error)

async def _on_open(self, *args, **kwargs) -> None:
    """è¿æ¥å»ºç«‹æˆåŠŸ"""
    self.is_connected_flag = True
    self.get_logger().info("Deepgram connection opened")

async def _on_close(self, *args, **kwargs) -> None:
    """è¿æ¥å…³é—­"""
    self.is_connected_flag = False
    self.get_logger().info("Deepgram connection closed")

async def _on_transcript(self, *args, **kwargs) -> None:
    """å¤„ç†è½¬å½•ç»“æœ"""
    result = args[1] if len(args) > 1 else None
    if not result:
        return
        
    try:
        # è§£æDeepgramç»“æœ
        transcript_data = result.channel.alternatives[0] if result.channel.alternatives else None
        if not transcript_data:
            return
            
        # åˆ›å»ºASRç»“æœ
        asr_result = ASRResult(
            text=transcript_data.transcript,
            final=result.is_final,
            start_ms=int(result.start * 1000) if hasattr(result, 'start') else 0,
            duration_ms=int(result.duration * 1000) if hasattr(result, 'duration') else 0,
            language=self.config.language
        )
        
        # å‘é€ç»“æœ
        await self.send_asr_result(asr_result)
        
    except Exception as e:
        self.get_logger().error(f"Error processing transcript: {e}")

async def _on_error(self, *args, **kwargs) -> None:
    """å¤„ç†é”™è¯¯"""
    error = args[1] if len(args) > 1 else "Unknown error"
    self.get_logger().error(f"Deepgram error: {error}")
```

## 5. é«˜çº§åŠŸèƒ½å®ç°

### é‡è¿æœºåˆ¶

åˆ›å»º `reconnect_manager.py` å®ç°æ™ºèƒ½é‡è¿ï¼š

```python title="reconnect_manager.py"
import asyncio
from typing import Callable, Awaitable, Optional

class ReconnectManager:
    def __init__(self, max_attempts: int = 5, base_delay: float = 0.5):
        self.max_attempts = max_attempts
        self.base_delay = base_delay
        self.current_attempts = 0
        
    def reset_counter(self) -> None:
        """é‡ç½®é‡è¿è®¡æ•°å™¨"""
        self.current_attempts = 0
        
    def mark_connection_successful(self) -> None:
        """æ ‡è®°è¿æ¥æˆåŠŸï¼Œé‡ç½®è®¡æ•°å™¨"""
        self.reset_counter()
        
    def can_retry(self) -> bool:
        """æ£€æŸ¥æ˜¯å¦å¯ä»¥é‡è¯•"""
        return self.current_attempts < self.max_attempts
        
    async def handle_reconnect(self, connect_func: Callable[[], Awaitable[None]]) -> bool:
        """å¤„ç†é‡è¿é€»è¾‘"""
        if not self.can_retry():
            return False
            
        self.current_attempts += 1
        
        # æŒ‡æ•°é€€é¿å»¶è¿Ÿ
        delay = self.base_delay * (2 ** (self.current_attempts - 1))
        await asyncio.sleep(delay)
        
        try:
            await connect_func()
            return True
        except Exception:
            return False
```

### éŸ³é¢‘è°ƒè¯•åŠŸèƒ½

é›†æˆéŸ³é¢‘ Dump åŠŸèƒ½ï¼š

```python title="extension.py"
import os
from ten_ai_base.dumper import Dumper

# åœ¨æ–‡ä»¶é¡¶éƒ¨å®šä¹‰å¸¸é‡
DUMP_FILE_NAME = "my_asr_in.pcm"

class MyAsrExtension(AsyncASRBaseExtension):
    def __init__(self, name: str):
        super().__init__(name)
        self.audio_dumper: Optional[Dumper] = None
        self.reconnect_manager = ReconnectManager()
        
    @override
    async def on_init(self, ten_env: AsyncTenEnv) -> None:
        """åˆå§‹åŒ–é˜¶æ®µé…ç½®"""
        await super().on_init(ten_env)
        
        # åˆå§‹åŒ–éŸ³é¢‘dumper
        if self.config.dump:
            dump_file_path = os.path.join(
                self.config.dump_path, DUMP_FILE_NAME
            )
            self.audio_dumper = Dumper(dump_file_path)
            
    @override
    async def on_deinit(self, ten_env: AsyncTenEnv) -> None:
        """æ¸…ç†èµ„æº"""
        await super().on_deinit(ten_env)
        if self.audio_dumper:
            await self.audio_dumper.stop()
            self.audio_dumper = None
            
    @override
    async def start_connection(self) -> None:
        """å»ºç«‹è¿æ¥æ—¶å¯åŠ¨dumper"""
        # ... è¿æ¥é€»è¾‘ ...
        
        # å¯åŠ¨éŸ³é¢‘dumper
        if self.audio_dumper:
            await self.audio_dumper.start()
        
    @override
    async def send_audio(self, audio_frame: AudioFrame) -> bool:
        """å‘é€éŸ³é¢‘æ•°æ®ï¼ˆå«è°ƒè¯•åŠŸèƒ½ï¼‰"""
        if not self.is_connected() or not self.deepgram_client:
            return False
            
        try:
            # é”å®šéŸ³é¢‘ç¼“å†²åŒº
            buf = audio_frame.lock_buf()
            
            # ä¿å­˜éŸ³é¢‘ç”¨äºè°ƒè¯•
            if self.audio_dumper:
                await self.audio_dumper.push_bytes(bytes(buf))
                
            # å‘é€åˆ°Deepgram
            await self.deepgram_client.send(bytes(buf))
            
            # è§£é”ç¼“å†²åŒº
            audio_frame.unlock_buf(buf)
            return True
            
        except Exception as e:
            self.get_logger().error(f"Failed to send audio: {e}")
            return False
```

## 6. å•å…ƒæµ‹è¯•

### åˆ›å»ºæµ‹è¯•æ¡†æ¶

åœ¨ `tests/mock.py` ä¸­åˆ›å»º Mock å¯¹è±¡ï¼š

```python title="tests/mock.py"
import pytest
from unittest.mock import MagicMock, patch
from types import SimpleNamespace

@pytest.fixture(scope="function")
def patch_deepgram_ws():
    """Mock Deepgram WebSocketå®¢æˆ·ç«¯"""
    with patch("ten_packages.extension.my_asr_extension.extension.AsyncListenWebSocketClient") as mock_client:
        # åˆ›å»ºmockå®ä¾‹
        mock_instance = MagicMock()
        mock_client.return_value = mock_instance
        
        # å­˜å‚¨äº‹ä»¶å¤„ç†å™¨
        event_handlers = {}
        
        def mock_on(event, handler):
            event_handlers[event] = handler
            
        mock_instance.on = mock_on
        mock_instance.start = MagicMock()
        mock_instance.send = MagicMock()
        mock_instance.finish = MagicMock()
        mock_instance.finalize = MagicMock()
        
        # æä¾›è§¦å‘äº‹ä»¶çš„æ–¹æ³•
        def trigger_open():
            if 'open' in event_handlers:
                event_handlers['open']()
                
        def trigger_transcript(text, is_final=False):
            if 'transcript' in event_handlers:
                # æ¨¡æ‹ŸDeepgramå“åº”æ ¼å¼
                mock_result = SimpleNamespace()
                mock_result.channel = SimpleNamespace()
                mock_result.channel.alternatives = [SimpleNamespace()]
                mock_result.channel.alternatives[0].transcript = text
                mock_result.is_final = is_final
                mock_result.start = 0.0
                mock_result.duration = 1.0
                
                event_handlers['transcript'](None, mock_result)
                
        mock_instance.trigger_open = trigger_open
        mock_instance.trigger_transcript = trigger_transcript
        
        yield mock_instance
```

### ç¼–å†™æµ‹è¯•ç”¨ä¾‹

åœ¨ `tests/test_basic.py` ä¸­ç¼–å†™å®Œæ•´æµ‹è¯•ï¼š

```python title="tests/test_basic.py"
import asyncio
import json
from typing_extensions import override
from ten_runtime import (
    AsyncExtensionTester,
    AsyncTenEnvTester, 
    Data,
    AudioFrame
)
from tests.mock import patch_deepgram_ws

class MyAsrExtensionTester(AsyncExtensionTester):
    def __init__(self):
        super().__init__()
        self.received_results = []
        
    @override
    async def on_start(self, ten_env: AsyncTenEnvTester) -> None:
        """å¼€å§‹æµ‹è¯•"""
        ten_env.log_info("Starting ASR test")
        
        # å‘é€æµ‹è¯•éŸ³é¢‘
        await self.send_test_audio(ten_env)
        
        # ç­‰å¾…å¤„ç†å®Œæˆ
        await asyncio.sleep(2)
        ten_env.stop_test()
        
    async def send_test_audio(self, ten_env: AsyncTenEnvTester) -> None:
        """å‘é€æµ‹è¯•éŸ³é¢‘æ•°æ®"""
        # åˆ›å»ºæ¨¡æ‹ŸéŸ³é¢‘å¸§
        audio_frame = AudioFrame.create("pcm_frame")
        test_data = b'\x00' * 320  # 320å­—èŠ‚çš„é™é»˜éŸ³é¢‘
        
        audio_frame.alloc_buf(len(test_data))
        buf = audio_frame.lock_buf()
        buf[:] = test_data
        audio_frame.unlock_buf(buf)
        
        await ten_env.send_audio_frame(audio_frame)
        
    @override 
    async def on_data(self, ten_env: AsyncTenEnvTester, data: Data) -> None:
        """å¤„ç†ASRç»“æœ"""
        name = data.get_name()
        if name == "asr_result":
            json_str, _ = data.get_property_to_json(None)
            result_data = json.loads(json_str)
            
            ten_env.log_info(f"Received ASR result: {result_data}")
            self.received_results.append(result_data)
            
            # éªŒè¯ç»“æœæ ¼å¼
            assert "text" in result_data
            assert "final" in result_data
            assert "language" in result_data

def test_asr_basic_functionality(patch_deepgram_ws):
    """æµ‹è¯•ASRåŸºç¡€åŠŸèƒ½"""
    # é…ç½®
    config = {
        "params": {
            "api_key": "test_key",
            "language": "en-US"
        }
    }
    
    # åˆ›å»ºæµ‹è¯•å™¨
    tester = MyAsrExtensionTester()
    tester.set_test_mode_single("my_asr_extension", json.dumps(config))
    
    # æ¨¡æ‹ŸASRäº‹ä»¶
    def simulate_asr_events():
        # æ¨¡æ‹Ÿè¿æ¥å»ºç«‹
        patch_deepgram_ws.trigger_open()
        
        # æ¨¡æ‹Ÿè½¬å½•ç»“æœ
        patch_deepgram_ws.trigger_transcript("hello world", True)
        
    # å»¶è¿Ÿè§¦å‘äº‹ä»¶
    asyncio.get_event_loop().call_later(0.5, simulate_asr_events)
    
    # è¿è¡Œæµ‹è¯•
    error = tester.run()
    assert error is None
    
    # éªŒè¯ç»“æœ
    assert len(tester.received_results) > 0
    result = tester.received_results[0]
    assert result["text"] == "hello world"
    assert result["final"] is True
```

### è¿è¡Œå•å…ƒæµ‹è¯•

```bash title="Terminal"
cd my_asr_extension
./tests/bin/start
```

### æ–­ç‚¹è°ƒè¯•

æ¨¡æ¿åˆ›å»ºçš„æ‰©å±•é¡¹ç›®åŒ…å« `.vscode` ç›®å½•ï¼Œæä¾›äº†å¼€ç®±å³ç”¨çš„è°ƒè¯•é…ç½®ã€‚

#### ä½¿ç”¨ VS Code è°ƒè¯•

1. **æ‰“å¼€é¡¹ç›®**: åœ¨ VS Code ä¸­æ‰“å¼€ `my_asr_extension` ç›®å½•

2. **æŸ¥çœ‹è°ƒè¯•é…ç½®**: `.vscode/launch.json` ä¸­é¢„ç½®äº†è°ƒè¯•è„šæœ¬

```json title=".vscode/launch.json"
{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python: Test Extension",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/tests/bin/start",
            "args": [],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}:${workspaceFolder}/.ten/app/ten_packages/system/ten_runtime_python/lib:${workspaceFolder}/.ten/app/ten_packages/system/ten_runtime_python/interface:${workspaceFolder}/.ten/app/ten_packages/system/ten_ai_base/interface"
            }
        }
    ]
}
```

3. **è®¾ç½®æ–­ç‚¹**: åœ¨ `extension.py` æˆ–æµ‹è¯•æ–‡ä»¶ä¸­è®¾ç½®æ–­ç‚¹

4. **å¯åŠ¨è°ƒè¯•**: 
   - æŒ‰ `F5` æˆ–ä½¿ç”¨è°ƒè¯•é¢æ¿
   - é€‰æ‹© "Python: Test Extension" é…ç½®
   - è°ƒè¯•å™¨ä¼šè‡ªåŠ¨è¿è¡Œæµ‹è¯•ç”¨ä¾‹

#### è°ƒè¯•ç‰¹å®šæµ‹è¯•

ä¿®æ”¹ `launch.json` ä¸­çš„ `args` å‚æ•°æ¥è°ƒè¯•ç‰¹å®šæµ‹è¯•ï¼š

```json title=".vscode/launch.json"
{
    "args": [
        "tests/test_basic.py::test_asr_basic_functionality",  // è°ƒè¯•ç‰¹å®šæµ‹è¯•å‡½æ•°
        "-v"  // è¯¦ç»†è¾“å‡º
    ]
}
```

#### è°ƒè¯•æŠ€å·§

- **æ–­ç‚¹ä½ç½®**: 
  - `on_init`: éªŒè¯é…ç½®åŠ è½½
  - `start_connection`: æ£€æŸ¥è¿æ¥å»ºç«‹è¿‡ç¨‹  
  - `_on_transcript`: æŸ¥çœ‹ASRç»“æœå¤„ç†
  - `send_audio`: è¿½è¸ªéŸ³é¢‘å‘é€æµç¨‹

- **å˜é‡ç›‘è§†**: 
  - `self.config`: æŸ¥çœ‹é…ç½®çŠ¶æ€
  - `self.is_connected_flag`: ç›‘æ§è¿æ¥çŠ¶æ€
  - `result`: æ£€æŸ¥ASRè¿”å›ç»“æœ

- **è°ƒè¯•è¾“å‡º**: åœ¨æ–­ç‚¹å¤„ä½¿ç”¨è°ƒè¯•æ§åˆ¶å°æŸ¥çœ‹å˜é‡çŠ¶æ€

#### ç¯å¢ƒå˜é‡è°ƒè¯•

å¦‚æœéœ€è¦ä½¿ç”¨çœŸå®APIå¯†é’¥è°ƒè¯•ï¼Œå¯ä»¥åœ¨ `launch.json` ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼š

```json title=".vscode/launch.json"
{
    "env": {
        "PYTHONPATH": "...",
        "DEEPGRAM_API_KEY": "your_real_api_key_here"
    }
}
```

## 7. é›†æˆæµ‹è¯•ï¼ˆGuarderï¼‰

### ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶é…ç½®çœŸå® API å¯†é’¥ï¼š

```bash title=".env"
# Deepgram ASR API Key
DEEPGRAM_API_KEY=your_real_deepgram_api_key_here
```

### æµ‹è¯•é…ç½®

åœ¨ `tests/configs/` ä¸‹åˆ›å»ºæµ‹è¯•é…ç½®ï¼š

```json title="tests/configs/property_en.json"
{
  "params": {
    "api_key": "${env:DEEPGRAM_API_KEY}",
    "language": "en-US"
  }
}
```

### è¿è¡Œ Guarder æµ‹è¯•

ä½¿ç”¨çœŸå® API å¯†é’¥è¿è¡Œå®Œæ•´é›†æˆæµ‹è¯•ï¼š

```bash title="Terminal"
cd ai_agents
task asr-guarder-test EXTENSION=my_asr_extension
```

è¿™å°†è¿è¡ŒåŒ…æ‹¬ä»¥ä¸‹æµ‹è¯•ï¼š

- **ASR ç»“æœæµ‹è¯•**: éªŒè¯è¯†åˆ«å‡†ç¡®æ€§å’Œç»“æœæ ¼å¼
- **Finalize æµ‹è¯•**: éªŒè¯ EOS ä¿¡å·å¤„ç†å’Œå»¶è¿Ÿä¼˜åŒ–æ•ˆæœ
- **éŸ³é¢‘å¤„ç†æµ‹è¯•**: æµ‹è¯•å®æ—¶éŸ³é¢‘æµå¤„ç†
- **é”™è¯¯å¤„ç†æµ‹è¯•**: éªŒè¯ç½‘ç»œå¼‚å¸¸å’Œ API é”™è¯¯å¤„ç†
- **æ€§èƒ½æµ‹è¯•**: æµ‹é‡ TTFW(Time To First Word) å’Œ TTLW(Time To Last Word) æŒ‡æ ‡
- **å¤šè¯­è¨€æµ‹è¯•**: éªŒè¯ä¸åŒè¯­è¨€çš„è¯†åˆ«èƒ½åŠ›(è‹±æ–‡å’Œä¸­æ–‡)

#### å…³é”®æ€§èƒ½æŒ‡æ ‡

Guarder æµ‹è¯•ä¼šé‡ç‚¹éªŒè¯ä»¥ä¸‹å¯¹è¯åœºæ™¯çš„å…³é”®æŒ‡æ ‡ï¼š

- **TTFW**: é¦–æ¬¡è¯†åˆ«ç»“æœå»¶è¿Ÿï¼ˆé€šå¸¸ < 1000msï¼‰
- **TTLW**: Finalize åˆ°æœ€ç»ˆç»“æœå»¶è¿Ÿï¼ˆé€šå¸¸ < 300msï¼‰
- **è¯†åˆ«å‡†ç¡®ç‡**: åœ¨ä¸åŒéŸ³è´¨æ¡ä»¶ä¸‹çš„å‡†ç¡®æ€§
- **è¿æ¥ç¨³å®šæ€§**: é•¿æ—¶é—´ä¼šè¯çš„è¿æ¥ä¿æŒèƒ½åŠ›

## 8. æœ€ä½³å®è·µ

### é…ç½®ç®¡ç†

- âœ… ä½¿ç”¨ `params` å­—å…¸ç»Ÿä¸€ç®¡ç†ä¾›åº”å•†å‚æ•°
- âœ… é€šè¿‡ `@property` æ–¹æ³•æä¾›ç±»å‹å®‰å…¨çš„å‚æ•°è®¿é—®
- âœ… æä¾›åˆç†çš„é»˜è®¤å€¼

### é”™è¯¯å¤„ç†

- âœ… å®ç°æŒ‡æ•°é€€é¿é‡è¿æœºåˆ¶
- âœ… æ­£ç¡®å¤„ç†ç½‘ç»œå¼‚å¸¸å’Œ API é”™è¯¯
- âœ… æä¾›è¯¦ç»†çš„é”™è¯¯æ—¥å¿—å’ŒçŠ¶æ€ä¸ŠæŠ¥
- âœ… ä¼˜é›…å¤„ç†è¿æ¥ä¸­æ–­å’Œæ¢å¤

### æ€§èƒ½ä¼˜åŒ–

- âœ… å¼‚æ­¥å¤„ç†éŸ³é¢‘æµï¼Œé¿å…é˜»å¡
- âœ… å®ç°éŸ³é¢‘ç¼“å­˜å’Œæ‰¹é‡å‘é€
- âœ… åˆç†ç®¡ç† WebSocket è¿æ¥ç”Ÿå‘½å‘¨æœŸ
- âœ… ç›‘æ§å’ŒæŠ¥å‘Šå…³é”®æ€§èƒ½æŒ‡æ ‡

### æ—¥å¿—æ‰“å°

- âœ… ä½¿ç”¨ `ten_env.log_debug/info/warn/error` API æ‰“å°æ—¥å¿—
- âœ… é€šè¿‡æŒ‡å®š `category` è®©æ—¥å¿—æ›´åŠ æ¸…æ™°
- âœ… å¯¹æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚ API Keyï¼‰è¿›è¡Œè„±æ•å¤„ç†
- âœ… åœ¨å…³é”®èŠ‚ç‚¹è®°å½•çŠ¶æ€å˜åŒ–å’Œé”™è¯¯ä¿¡æ¯

```python title="extension.py"
from ten_ai_base.const import LOG_CATEGORY_KEY_POINT, LOG_CATEGORY_VENDOR

class MyAsrExtension(AsyncASRBaseExtension):
    @override
    async def on_init(self, ten_env: AsyncTenEnv) -> None:
        """åˆå§‹åŒ–é˜¶æ®µ - è®°å½•é…ç½®ä¿¡æ¯"""
        await super().on_init(ten_env)
        
        # è¯»å–å¹¶éªŒè¯é…ç½®
        try:
            # ... é…ç½®å¤„ç†é€»è¾‘ ...
            
            # å…³é”®ç‚¹æ—¥å¿—ï¼šåŠ å¯†æ‰“å°é…ç½®ï¼Œè„±æ•æ•æ„Ÿä¿¡æ¯
            ten_env.log_info(
                f"vendor_config: {self.config.to_json(sensitive_handling=True)}",
                category=LOG_CATEGORY_KEY_POINT,
            )
        except Exception as e:
            ten_env.log_error(f"Invalid property: {e}")
    
    async def _on_open(self, *args, **kwargs) -> None:
        """è¿æ¥å»ºç«‹ - ä¾›åº”å•†çŠ¶æ€å˜åŒ–"""
        self.is_connected_flag = True
        
        # ä¾›åº”å•†æ—¥å¿—ï¼šè¿æ¥çŠ¶æ€å˜åŒ–
        self.ten_env.log_info(
            "vendor_status_changed: connection opened",
            category=LOG_CATEGORY_VENDOR
        )
    
    async def _on_close(self, *args, **kwargs) -> None:
        """è¿æ¥å…³é—­ - ä¾›åº”å•†çŠ¶æ€å˜åŒ–"""
        self.is_connected_flag = False
        
        # ä¾›åº”å•†æ—¥å¿—ï¼šè¿æ¥çŠ¶æ€å˜åŒ–
        self.ten_env.log_warn(
            "vendor_status_changed: connection closed",
            category=LOG_CATEGORY_VENDOR
        )
    
    async def _on_transcript(self, *args, **kwargs) -> None:
        """æ”¶åˆ°è½¬å½•ç»“æœ - è°ƒè¯•ä¿¡æ¯"""
        result = args[1] if len(args) > 1 else None
        if not result:
            return
        
        # ä¾›åº”å•†æ—¥å¿—ï¼šè°ƒè¯•çº§åˆ«è®°å½•åŸå§‹ç»“æœ
        self.ten_env.log_debug(
            f"vendor_result: on_transcript: {result.to_json()}",
            category=LOG_CATEGORY_VENDOR
        )
        
        # å¤„ç†ç»“æœ...
        transcript_text = result.channel.alternatives[0].transcript
        is_final = result.is_final
        
        # ä¾›åº”å•†æ—¥å¿—ï¼šå¤„ç†åçš„ç»“æœ
        self.ten_env.log_debug(
            f"processed transcript: {transcript_text}, is_final: {is_final}",
            category=LOG_CATEGORY_VENDOR
        )
    
    async def _on_error(self, *args, **kwargs) -> None:
        """ä¾›åº”å•†é”™è¯¯å›è°ƒ"""
        error = args[1] if len(args) > 1 else "Unknown error"
        
        # ä¾›åº”å•†æ—¥å¿—ï¼šé”™è¯¯ä¿¡æ¯
        self.ten_env.log_error(
            f"vendor_error: {error}",
            category=LOG_CATEGORY_VENDOR
        )
        
        # è§¦å‘é‡è¿æœºåˆ¶
        await self._handle_reconnect()
```

#### æ—¥å¿—åˆ†ç±»è¯´æ˜

- **KEY_POINT**: å…³é”®èŠ‚ç‚¹æ—¥å¿—ï¼Œç”¨äºè®°å½•é‡è¦çš„é…ç½®å’ŒçŠ¶æ€ä¿¡æ¯
- **VENDOR**: ä¾›åº”å•†ç›¸å…³æ—¥å¿—ï¼ŒåŒ…æ‹¬è¿æ¥çŠ¶æ€ã€ç»“æœå¤„ç†ã€é”™è¯¯ä¿¡æ¯
- **é»˜è®¤åˆ†ç±»**: ä¸šåŠ¡é€»è¾‘ç›¸å…³çš„ä¸€èˆ¬æ—¥å¿—

#### æ•æ„Ÿä¿¡æ¯è„±æ•

```python title="config.py"
def to_json(self, sensitive_handling: bool = False) -> str:
    """åºåˆ—åŒ–é…ç½®ï¼Œæ”¯æŒæ•æ„Ÿä¿¡æ¯è„±æ•"""
    config_dict = self.model_dump()
    
    if sensitive_handling:
        # è„±æ•å¤„ç†æ•æ„Ÿå­—æ®µ
        if "api_key" in config_dict.get("params", {}):
            api_key = config_dict["params"]["api_key"]
            if len(api_key) > 6:
                config_dict["params"]["api_key"] = f"{api_key[:2]}...{api_key[-2:]}"
    
    return json.dumps(config_dict)
```

### è°ƒè¯•æ”¯æŒ

- âœ… æä¾›éŸ³é¢‘ Dump åŠŸèƒ½ç”¨äºé—®é¢˜æ’æŸ¥
- âœ… è®°å½•è¯¦ç»†çš„äº‹ä»¶å’ŒçŠ¶æ€å˜åŒ–æ—¥å¿—
- âœ… æ”¯æŒä¸åŒæ—¥å¿—çº§åˆ«å’Œåˆ†ç±»
- âœ… æä¾›æ€§èƒ½å’Œè´¨é‡æŒ‡æ ‡

## 9. æ‰©å±•å’Œè´¡çŒ®

### é€‚é…å…¶ä»– ASR æœåŠ¡

åŸºäºæœ¬æ•™ç¨‹çš„æ¡†æ¶ï¼Œä½ å¯ä»¥å‚è€ƒ TEN Framework ä»“åº“ä¸‹çš„å…¶ä»–æˆå“ ASR æ‰©å±•ï¼š

1. **Azure Speech Services**: å‚è€ƒ `azure_asr_python` æ‰©å±•çš„å®ç°
2. **Google Cloud Speech**: å‚è€ƒ `google_asr_python` æ‰©å±•çš„å®ç°  
3. **ç§‘å¤§è®¯é£**: å‚è€ƒ `xfyun_asr_python` æ‰©å±•çš„å®ç°
4. **å…¶ä»–ä¾›åº”å•†**: åœ¨ `ai_agents/agents/ten_packages/extension/` ç›®å½•ä¸‹æŸ¥çœ‹æ›´å¤šASRæ‰©å±•å®ç°

è¿™äº›æˆå“æ‰©å±•éƒ½éµå¾ªç›¸åŒçš„æ¶æ„æ¨¡å¼ï¼Œå¯ä»¥ä½œä¸ºé€‚é…æ–°ASRæœåŠ¡çš„å‚è€ƒæ¨¡æ¿ï¼š

```bash title="å‚è€ƒæ‰©å±•ä½ç½®"
ten-framework/
â””â”€â”€ ai_agents/agents/ten_packages/extension/
    â”œâ”€â”€ azure_asr_python/          # Azure Speech Services
    â”œâ”€â”€ deepgram_asr_python/       # Deepgram ASR  
    â”œâ”€â”€ google_asr_python/         # Google Cloud Speech
    â”œâ”€â”€ xfyun_asr_python/          # ç§‘å¤§è®¯é£è¯­éŸ³
    â””â”€â”€ ...                        # æ›´å¤šASRæ‰©å±•
```

### è´¡çŒ®åˆ°ç¤¾åŒº

å®Œæˆå¼€å‘åï¼Œæ¬¢è¿å°†ä½ çš„ ASR æ‰©å±•è´¡çŒ®ç»™ TEN Agent ç¤¾åŒºï¼š

1. **ä»£ç è§„èŒƒ**: éµå¾ªé¡¹ç›®çš„ä»£ç é£æ ¼å’Œå‘½åçº¦å®š
2. **æµ‹è¯•è¦†ç›–**: ç¡®ä¿å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•é€šè¿‡
3. **æ–‡æ¡£å®Œå–„**: æä¾›æ¸…æ™°çš„ README å’Œé…ç½®è¯´æ˜
4. **æ€§èƒ½éªŒè¯**: é€šè¿‡ Guarder æµ‹è¯•éªŒè¯ç”Ÿäº§å¯ç”¨æ€§

### å‘å¸ƒåˆ° TEN Store

è®©ä½ çš„ ASR æ‰©å±•è¢«æ›´å¤šå¼€å‘è€…ä½¿ç”¨ï¼š

#### 1. æäº¤åˆ°ä¸»ä»“åº“

```bash title="Terminal"
# 1. Fork TEN Framework ä»“åº“åˆ°ä½ çš„ GitHub è´¦å·
# 2. å…‹éš†ä½ çš„ fork ä»“åº“
git clone https://github.com/your-username/ten-framework.git
cd ten-framework

# 3. å°†ä½ çš„æ‰©å±•å¤åˆ¶åˆ°æ­£ç¡®ä½ç½®
cp -r /path/to/your/my_asr_extension ai_agents/agents/ten_packages/extension/

# 4. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feat/add-my-asr-extension

# 5. æäº¤æ›´æ”¹
git add ai_agents/agents/ten_packages/extension/my_asr_extension/
git commit -m "feat: add my_asr_extension for [ä¾›åº”å•†åç§°] ASR service"

# 6. æ¨é€åˆ†æ”¯
git push origin feat/add-my-asr-extension
```

#### 2. åˆ›å»º Pull Request

1. **æ‰“å¼€ GitHub**: è®¿é—®ä½ çš„ fork ä»“åº“é¡µé¢
2. **åˆ›å»º PR**: ç‚¹å‡» "Compare & pull request"
3. **å¡«å†™ä¿¡æ¯**: 
   - æ ‡é¢˜: `feat: add my_asr_extension for [ä¾›åº”å•†åç§°] ASR service`
   - æè¿°: è¯¦ç»†è¯´æ˜æ‰©å±•åŠŸèƒ½ã€æ”¯æŒçš„ç‰¹æ€§å’Œæµ‹è¯•æƒ…å†µ
4. **æäº¤ PR**: ç­‰å¾…ä»£ç å®¡æŸ¥å’Œåˆå¹¶

#### 3. ä»£ç å®¡æŸ¥å’Œåˆå¹¶

- **è‡ªåŠ¨æµ‹è¯•**: CI/CD ç³»ç»Ÿä¼šè‡ªåŠ¨è¿è¡Œæµ‹è¯•
- **ä»£ç å®¡æŸ¥**: ç»´æŠ¤è€…ä¼šå®¡æŸ¥ä»£ç è´¨é‡å’ŒåŠŸèƒ½
- **ä¿®æ”¹å»ºè®®**: æ ¹æ®åé¦ˆè¿›è¡Œå¿…è¦çš„ä¿®æ”¹
- **åˆå¹¶**: é€šè¿‡å®¡æŸ¥åï¼Œä»£ç ä¼šè¢«åˆå¹¶åˆ° main åˆ†æ”¯

#### 4. è‡ªåŠ¨å‘å¸ƒåˆ° TEN Store

ä¸€æ—¦ä½ çš„ PR è¢«åˆå¹¶åˆ° main åˆ†æ”¯ï¼š

- âœ… **è‡ªåŠ¨ä¸Šä¼ **: æ‰©å±•ä¼šè‡ªåŠ¨ä¸Šä¼ åˆ° TEN Store
- âœ… **ç‰ˆæœ¬ç®¡ç†**: ç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†ç‰ˆæœ¬å·å’Œå‘å¸ƒæµç¨‹
- âœ… **å…¨çƒå¯ç”¨**: ä½ çš„æ‰©å±•ç«‹å³å¯ä¾›å…¨çƒå¼€å‘è€…ä¸‹è½½ä½¿ç”¨

#### 5. ä½¿ç”¨ä½ çš„æ‰©å±•

å…¶ä»–å¼€å‘è€…ç°åœ¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä½¿ç”¨ä½ çš„æ‰©å±•ï¼š

```bash title="Terminal"
# å®‰è£…ä½ çš„ ASR æ‰©å±•
tman install extension my_asr_extension

# æˆ–è€…åœ¨é¡¹ç›®ä¸­å£°æ˜ä¾èµ–
```

```json title="manifest.json"
{
  "dependencies": [
    {
      "type": "extension",
      "name": "my_asr_extension",
      "version": "^1.0.0"
    }
  ]
}
```

#### å‘å¸ƒæ³¨æ„äº‹é¡¹

- **æ‰©å±•å‘½å**: ä½¿ç”¨æè¿°æ€§çš„åç§°ï¼Œé¿å…ä¸ç°æœ‰æ‰©å±•å†²çª
- **ç‰ˆæœ¬å…¼å®¹æ€§**: ç¡®ä¿ä¸å½“å‰ TEN Framework ç‰ˆæœ¬å…¼å®¹
- **è®¸å¯è¯**: æ˜ç¡®æ‰©å±•çš„å¼€æºè®¸å¯è¯
- **ç»´æŠ¤æ‰¿è¯º**: å‡†å¤‡å¥½ç»´æŠ¤å’Œæ›´æ–°ä½ çš„æ‰©å±•

## æ€»ç»“

é€šè¿‡æœ¬æ•™ç¨‹ï¼Œä½ å·²ç»æŒæ¡äº†ï¼š

- âœ… ä½¿ç”¨ ASR æ¨¡æ¿å¿«é€Ÿåˆ›å»ºæ‰©å±•é¡¹ç›®
- âœ… è®¾è®¡çµæ´»çš„é…ç½®ç®¡ç†ç³»ç»Ÿ
- âœ… å®ç°å®Œæ•´çš„ ASR æ ¸å¿ƒåŠŸèƒ½
- âœ… é›†æˆé«˜çº§åŠŸèƒ½ï¼ˆé‡è¿ã€è°ƒè¯•ã€é”™è¯¯å¤„ç†ï¼‰
- âœ… ç¼–å†™å…¨é¢çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- âœ… ä½¿ç”¨ Guarder éªŒè¯ç”Ÿäº§å¯ç”¨æ€§

ç°åœ¨ä½ å¯ä»¥å¼€å§‹ä¸º TEN Agent ç”Ÿæ€ç³»ç»Ÿè´¡çŒ®é«˜è´¨é‡çš„ ASR æ‰©å±•äº†ï¼ğŸ‰

<Callout title="ä¸‹ä¸€æ­¥">
  æ¨èé˜…è¯» [TTS æ‰©å±•å¼€å‘æŒ‡å—] å’Œ [LLM æ‰©å±•å¼€å‘æŒ‡å—]ï¼ŒæŒæ¡å®Œæ•´çš„ AI Agent æ‰©å±•å¼€å‘æŠ€èƒ½ã€‚
</Callout>
