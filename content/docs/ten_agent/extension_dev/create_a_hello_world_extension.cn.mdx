---
title: åˆ›å»º Hello World æ‰©å±•
---

åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€æ­¥æ­¥åˆ›å»ºä¸€ä¸ª `Hello World` æ‰©å±•ï¼Œæ”¯æŒ **Pythonã€Go å’Œ C++**ã€‚ä½ å¯ä»¥æ ¹æ®å–œå¥½é€‰æ‹©ä»»æ„è¯­è¨€è¿›è¡Œå®è·µã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ã€‚

## å‰ç½®æ¡ä»¶

åœ¨å¼€å§‹ä¹‹å‰ï¼Œä½ éœ€è¦ç†Ÿæ‚‰[å‰æ–‡çš„åŸºç¡€å†…å®¹](/docs/ten_agent/getting_started)ã€‚ç‰¹åˆ«æ˜¯ï¼Œéœ€è¦æŒæ¡å¦‚ä½•ä½¿ç”¨ `docker compose up -d` å¹¶äº†è§£åå°å¯åŠ¨çš„æœåŠ¡ã€‚

## 1. å¯åŠ¨æœåŠ¡å™¨

é¦–å…ˆï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å¯åŠ¨ç›¸å…³æœåŠ¡ï¼š

<Callout>
  å¦‚æœæ ‡é¢˜ä¸º `Terminal`ï¼Œè¡¨ç¤ºå‘½ä»¤åœ¨æœ¬åœ°è¿è¡Œã€‚  
  å¦‚æœæ ‡é¢˜ä¸º `Bash`ï¼Œè¡¨ç¤ºå‘½ä»¤åœ¨ Docker å®¹å™¨å†…è¿è¡Œã€‚
</Callout>

```bash title="Terminal"
docker compose up -d
```

æ‰§è¡Œåï¼Œä½ åº”å½“èƒ½çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„è¾“å‡ºï¼š

```bash title="Terminal"
Attaching to ten_agent_dev, ten_agent_playground
ten_agent_dev         | cd agents && tman designer
ten_agent_dev         | :-)  Starting server at http://0.0.0.0:49483
ten_agent_playground  |   â–² Next.js 14.2.4
ten_agent_playground  |   - Local:        http://localhost:3000
ten_agent_playground  |   - Network:      http://0.0.0.0:3000
ten_agent_playground  |
ten_agent_playground  |  âœ“ Starting...
ten_agent_playground  |  âœ“ Ready in 429ms
...
```

æ­¤æ—¶ï¼Œä»¥ä¸‹æœåŠ¡å·²å¯åŠ¨å¹¶è¿è¡Œï¼š

* `ten_agent_dev`ï¼š`http://0.0.0.0:49483`ï¼ˆTMAN Designerï¼‰
* `ten_agent_playground`ï¼š`http://localhost:3000`ï¼ˆTEN Agent Playgroundï¼‰

## 2. è¿›å…¥ Docker å®¹å™¨

ä¸ºäº†åœ¨éš”ç¦»ç¯å¢ƒä¸­æ“ä½œï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash title="Terminal"
docker exec -it ten_agent_dev bash
```

## 3. åˆ›å»º hello world æ‰©å±•

è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå³å¯åœ¨ Pythonã€Go æˆ– C++ ä¸­åˆ›å»ºä¸€ä¸ªåä¸º `hello_world` çš„æ‰©å±•ã€‚

import { Tab, Tabs } from 'fumadocs-ui/components/tabs'

<Tabs items={['Python', 'Go', 'C++']} defaultIndex={0}> <Tab>

```bash title="Bash"
cd /app/agents/ten_packages/extension
tman create extension hello_world --template=default_async_extension_python@0.10 --template-data class_name_prefix=HelloWorld
```

  </Tab>
  <Tab>

```bash title="Bash"
cd /app/agents/ten_packages/extension
tman create extension hello_world --template=default_extension_go@0.10 --template-data class_name_prefix=HelloWorld
```

  </Tab>
  <Tab>

```bash title="Bash"
cd /app/agents/ten_packages/extension
tman create extension hello_world --template=default_extension_cpp@0.10 --template-data class_name_prefix=HelloWorld
```

  </Tab>
</Tabs>

æ‰§è¡ŒæˆåŠŸåï¼Œä½ å°†çœ‹åˆ°ç±»ä¼¼æ—¥å¿—ï¼š

```bash title="Bash"
Package 'extension:hello_world' created successfully in '/app' in 3 seconds.
```

## 4. å°†æ‰©å±•èŠ‚ç‚¹æ·»åŠ åˆ°å›¾ä¸­

æ‰“å¼€ **TMAN Designer** å¹¶é€‰æ‹©éœ€è¦ä¿®æ”¹çš„å›¾ï¼š

1. åœ¨ç”»å¸ƒä¸Šç©ºç™½åŒºåŸŸå³é”®ï¼Œé€‰æ‹© **Add Node**ã€‚
2. åœ¨å¼¹çª—çš„ **Addon** å­—æ®µä¸­ï¼Œé€‰æ‹©åˆšåˆ›å»ºçš„ `hello_world` æ‰©å±•ã€‚
3. åœ¨ **Name** å­—æ®µä¸­ï¼Œè®¾ç½®ä¸º "hello_world"ã€‚
3. ç‚¹å‡» **Add Node** å®Œæˆæ“ä½œã€‚
4. ç”»å¸ƒä¸­åº”å½“å‡ºç° `hello_world` èŠ‚ç‚¹ã€‚

## 5. åœ¨å›¾ä¸­å°è¯•æ¶ˆæ¯è¿æ¥

æ‰©å±•å¯ä»¥åœ¨å›¾ä¸­ä¸å…¶ä»–èŠ‚ç‚¹è¿›è¡Œæ¶ˆæ¯æ”¶å‘ã€‚æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªç®€å•çš„æ¶ˆæ¯è¿æ¥ï¼š
è®© `hello_world` èŠ‚ç‚¹å‘¨æœŸæ€§å‘é€ `"Hello, World!"`ï¼ˆæ¶ˆæ¯åä¸º `output_text`ï¼‰ï¼Œå¹¶æ¥æ”¶åä¸º `input_text` çš„æ¶ˆæ¯ã€‚

### 1). åœ¨ `manifest.json` ä¸­å£°æ˜æ¶ˆæ¯åè®®

åœ¨æ‰©å±•çš„ `manifest.json` æ–‡ä»¶ä¸­ï¼Œå£°æ˜è¯¥æ‰©å±•æ‰€ä½¿ç”¨çš„æ¶ˆæ¯åè®®ã€‚åœ¨ `api` å­—æ®µæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š

```json
...
  "api": {
    "data_in": [
      {
        "name": "input_text",
        "property": {
          "properties": {
            "text": {
              "type": "string"
            }
          }
        }
      }
    ],
    "data_out": [
      {
        "name": "output_text",
        "property": {
          "properties": {
            "text": {
              "type": "string"
            }
          }
        }
      }
    ]
  },
...
```

åœ¨ `extension.py` ä¸­ç¼–å†™ä¸€ä¸ªå¼‚æ­¥å¾ªç¯ï¼Œæ¯éš” 5 ç§’å‘é€ä¸€æ¬¡æ¶ˆæ¯ï¼š

```python
    async def on_start(self, ten_env: AsyncTenEnv) -> None:
        ten_env.log(LogLevel.DEBUG, "on_start")
        asyncio.create_task(self._send_hello(ten_env))

    async def _send_hello(self, ten_env: AsyncTenEnv) -> None:
        while True:
            await asyncio.sleep(5)
            data = Data.create("output_text")
            data.set_property_string("text", "Hello, World!")
            await ten_env.send_data(data)
```

ä¿å­˜åï¼Œåœ¨ Designer èœå•ä¸­é€‰æ‹© **App -> Reload All Apps** é‡æ–°åŠ è½½æ‰©å±•é…ç½®ã€‚

<Callout title="æ³¨æ„">
ä¿®æ”¹ `manifest.json` åå¿…é¡»æ‰§è¡Œé‡æ–°åŠ è½½æ“ä½œï¼Œå¦åˆ™æ›´æ”¹ä¸ä¼šç”Ÿæ•ˆã€‚
</Callout>

### 2). æ·»åŠ ä» `hello_world` åˆ° `main` çš„è¿æ¥

åœ¨ Designer ä¸­å³é”®ç‚¹å‡» `hello_world` èŠ‚ç‚¹ï¼Œé€‰æ‹© **Add Connection from hello\_world**ã€‚
åœ¨å¯¹è¯æ¡†ä¸­è®¾ç½®æ¶ˆæ¯ç±»å‹ä¸º `data`ï¼Œæ¶ˆæ¯åä¸º `output_text`ï¼Œç›®æ ‡èŠ‚ç‚¹é€‰æ‹© `main`ï¼Œæœ€åç‚¹å‡» **Add Connection**ã€‚
æ­¤æ—¶ï¼Œ`hello_world` ä¸ `main` çš„è¿æ¥å·²å»ºç«‹ã€‚

### 3). åœ¨ `main` ä¸­æ·»åŠ ä»£ç å¤„ç†è¾“å…¥

æ‰“å¼€ `main.py`ï¼Œæ–°å¢å¦‚ä¸‹ä»£ç ï¼š

```python
    async def on_data(self, ten_env: AsyncTenEnv, data: Data):
        name = data.get_name()
        if name == "output_text":
            text, _ = data.get_property_string("text")
            if text:
                ten_env.log_info(f"[MainControlExtension] Received input_text: {text}")
                return

        await self.agent.on_data(data)
```

### 4). ä» `main` å›å¤æ¶ˆæ¯ç»™ `hello_world`

å»ºè®®åœ¨ `main` ä¸­ä½¿ç”¨ `setDests` API å‘é€æ¶ˆæ¯ï¼ˆå› å…¶è´Ÿè´£æ•´ä½“ä¼šè¯ä¸Šä¸‹æ–‡ï¼Œæœ€é€‚åˆæŒæ¡ç›®æ ‡èŠ‚ç‚¹ï¼‰ã€‚

```python
    async def on_data(self, ten_env: AsyncTenEnv, data: Data):
        name = data.get_name()
        if name == "output_text":
            text, _ = data.get_property_string("text")
            if text:
                source_name = data.get_source().extension_name
                ten_env.log_info(f"[MainControlExtension] Received input_text: {text} from: {source_name}")

                reply = Data.create("input_text")
                reply.set_property_string("text", f"Echo: {text}")
                reply.set_dests([Loc(
                    app_uri="",
                    graph_id="",
                    extension_name=source_name
                )])
                await ten_env.send_data(reply)
                return

        await self.agent.on_data(data)
```

ä¿®æ”¹ `hello_world`ï¼Œä½¿å…¶æ¥æ”¶å›å¤å¹¶æ‰“å°åˆ°æ—¥å¿—ï¼š

```python
    async def on_data(self, ten_env: AsyncTenEnv, data: Data) -> None:
        name = data.get_name()
        if name == "input_text":
            text, _ = data.get_property_string("text")
            if text:
                ten_env.log_info(f"[HelloWorldExtension] Received input_text: {text}")
                return
```

## 6. éªŒè¯æ‰©å±•

ä½¿ç”¨ TMAN Designer å¯åŠ¨åº”ç”¨ï¼Œå¹¶åœ¨æ—¥å¿—ä¸­ç¡®è®¤æ˜¯å¦æ‰“å°ä»¥ä¸‹å†…å®¹ï¼š

```
[MainControlExtension] Received input_text: Hello, World!
[HelloWorldExtension] Received input_text: Echo: Hello, World!
```

è‡³æ­¤ï¼Œä½ å·²æˆåŠŸå®Œæˆç¬¬ä¸€ä¸ª `hello_world` æ‰©å±•çš„åˆ›å»ºã€‚ ğŸ‰