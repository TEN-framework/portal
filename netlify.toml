[build]
  command = "npm run build"
  publish = ".next"
  [build.environment]
    NODE_VERSION = "22"
    BASELINE_BROWSER_MAPPING_IGNORE_OLD_DATA = "true"
    BROWSERSLIST_IGNORE_OLD_DATA = "true"
    NODE_OPTIONS = "--max_old_space_size=4096"

[[plugins]]
  package = "@netlify/plugin-nextjs"

[[plugins]]
  package = "@netlify/plugin-lighthouse"
  [[plugins.inputs.audits]]
    path = "/"

## QC for article content
[[redirects]]
  from = "/article"
  to = "https://aaam5byplvnk2vai.myquickcreator.com/article"
  status = 200
  force = true

[[redirects]]
  from = "/article/*"
  to = "https://aaam5byplvnk2vai.myquickcreator.com/article/:splat"
  status = 200
  force = true

## Redirect doc.theten.ai root to the main docs
[[redirects]]
  from = "http://doc.theten.ai/"
  to = "https://theten.ai/docs"
  status = 308
  force = true

[[redirects]]
  from = "https://doc.theten.ai/"
  to = "https://theten.ai/docs"
  status = 308
  force = true
